{"version":3,"file":"bundle.js","mappings":"MAIA,MAAMA,EAASC,SAASC,cAAc,UAChCC,EAAMH,EAAOI,WAAW,MAE9B,IAAIC,EAAOC,EAAQC,EACfC,EASJ,SAASC,EAAOC,GACdC,sBAAsBF,GAEtB,MAAMG,EAAUF,EAAMH,EACtBA,EAAUG,EAEVP,EAAIU,UAAU,EAAG,EAAGR,EAAOC,GACvBE,EAAWM,OAfK,KAemBN,EAAWO,KAAK,IAAIC,GAE3Db,EAAIc,UAAYd,EAAIe,YAAc,OAElCV,EAAWW,SAASC,GAAcA,EAAUC,OAAOT,EAASF,KAY9D,MAAMM,EACJM,cACEC,KAAKC,QAGPA,QAAqB,IAAfC,EAAc,wDAClBF,KAAKG,EAAIC,EAAK,EAAGtB,GACjBkB,KAAKK,EAAoBD,GAAM,IAAb,IAATF,EAA0BnB,EAAS,IAAiB,IAC7DiB,KAAKM,KAAOF,GAAM,IAAM,KACxBJ,KAAKO,KAAOH,EAAK,IAAM,IACvBJ,KAAKQ,MAAQJ,EAAK,EAAa,EAAVK,KAAKC,IAC1BV,KAAKW,SAAWP,GAAM,KAAO,MAC7BJ,KAAKY,KAAOR,EAAK,EAAG,IACpBJ,KAAKa,QAAUT,EAAK,IAAM,IAG5BN,OAAOT,EAASF,GACd,MAAM2B,EAASV,GAAM,KAAO,MAExBK,KAAKM,IAAIf,KAAKM,KAAOQ,GAAU,OACjCd,KAAKM,MAAQQ,GAGfd,KAAKG,GAAKH,KAAKM,KAAOjB,EACtBW,KAAKK,GAAKL,KAAKO,KAAOlB,EACtBW,KAAKQ,OAAqB,IAAZR,KAAKM,KAAcjB,GAE7BW,KAAKK,EAAIL,KAAKY,KAAO7B,GAAUiB,KAAKG,EAAIH,KAAKY,KAAO,GAAKZ,KAAKG,EAAIH,KAAKY,KAAO9B,IAChFkB,KAAKC,QAGPD,KAAKd,SAGPA,SACEN,EAAIoC,OACJ,MAAM,EAAEb,EAAF,EAAKE,EAAL,MAAQG,EAAR,KAAeI,GAASZ,KAC9BpB,EAAIqC,YACJrC,EAAIsC,IAAIf,EAAGE,EAAU,GAAPO,EAAY,EAAa,EAAVH,KAAKC,IAAQ,GAC1C9B,EAAIuC,OACJvC,EAAIwC,WAKR,MAAMhB,EAAO,CAACiB,EAAKC,IAAQD,EAAMZ,KAAKc,UAAYD,EAAMD,GAExD,SAASG,IACP1C,EAAQL,EAAOK,MAAQ2C,OAAOC,WAC9B3C,EAASN,EAAOM,OAAS0C,OAAOE,YAGlCF,OAAOG,iBAAiB,SAAUJ,GAClCC,OAAOG,iBAAiB,QA9DxB,WACEC,qBAAqB3C,MA8DvBuC,OAAOG,iBAAiB,SA3DxB,WACE5C,EAAU8C,YAAY3C,MACtBC,sBAAsBF,MAzBtBD,EAAa,GACbuC,IACAtC,EAAQF,EAAU8C,YAAY3C,Q","sources":["webpack://merry-christmas/./src/index.js"],"sourcesContent":["/* eslint-disable no-use-before-define */\r\n/* eslint-disable one-var */\r\n/* eslint-disable no-multi-assign */\r\n\r\nconst canvas = document.querySelector('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nlet width, height, lastNow;\r\nlet snowflakes;\r\nconst maxSnowflakes = 100;\r\n\r\nfunction init() {\r\n  snowflakes = [];\r\n  resize();\r\n  render((lastNow = performance.now()));\r\n}\r\n\r\nfunction render(now) {\r\n  requestAnimationFrame(render);\r\n\r\n  const elapsed = now - lastNow;\r\n  lastNow = now;\r\n\r\n  ctx.clearRect(0, 0, width, height);\r\n  if (snowflakes.length < maxSnowflakes) snowflakes.push(new Snowflake());\r\n\r\n  ctx.fillStyle = ctx.strokeStyle = '#fff';\r\n\r\n  snowflakes.forEach((snowflake) => snowflake.update(elapsed, now));\r\n}\r\n\r\nfunction pause() {\r\n  cancelAnimationFrame(render);\r\n}\r\n\r\nfunction resume() {\r\n  lastNow = performance.now();\r\n  requestAnimationFrame(render);\r\n}\r\n\r\nclass Snowflake {\r\n  constructor() {\r\n    this.spawn();\r\n  }\r\n\r\n  spawn(anyY = false) {\r\n    this.x = rand(0, width);\r\n    this.y = anyY === true ? rand(-50, height + 50) : rand(-50, -10);\r\n    this.xVel = rand(-0.05, 0.05);\r\n    this.yVel = rand(0.02, 0.1);\r\n    this.angle = rand(0, Math.PI * 2);\r\n    this.angleVel = rand(-0.001, 0.001);\r\n    this.size = rand(7, 12);\r\n    this.sizeOsc = rand(0.01, 0.5);\r\n  }\r\n\r\n  update(elapsed, now) {\r\n    const xForce = rand(-0.001, 0.001);\r\n\r\n    if (Math.abs(this.xVel + xForce) < 0.075) {\r\n      this.xVel += xForce;\r\n    }\r\n\r\n    this.x += this.xVel * elapsed;\r\n    this.y += this.yVel * elapsed;\r\n    this.angle += this.xVel * 0.05 * elapsed; // this.angleVel * elapsed\r\n\r\n    if (this.y - this.size > height || this.x + this.size < 0 || this.x - this.size > width) {\r\n      this.spawn();\r\n    }\r\n\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    ctx.save();\r\n    const { x, y, angle, size } = this;\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, size * 0.2, 0, Math.PI * 2, false);\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\n// Utils\r\nconst rand = (min, max) => min + Math.random() * (max - min);\r\n\r\nfunction resize() {\r\n  width = canvas.width = window.innerWidth;\r\n  height = canvas.height = window.innerHeight;\r\n}\r\n\r\nwindow.addEventListener('resize', resize);\r\nwindow.addEventListener('blur', pause);\r\nwindow.addEventListener('focus', resume);\r\ninit();\r\n"],"names":["canvas","document","querySelector","ctx","getContext","width","height","lastNow","snowflakes","render","now","requestAnimationFrame","elapsed","clearRect","length","push","Snowflake","fillStyle","strokeStyle","forEach","snowflake","update","constructor","this","spawn","anyY","x","rand","y","xVel","yVel","angle","Math","PI","angleVel","size","sizeOsc","xForce","abs","save","beginPath","arc","fill","restore","min","max","random","resize","window","innerWidth","innerHeight","addEventListener","cancelAnimationFrame","performance"],"sourceRoot":""}